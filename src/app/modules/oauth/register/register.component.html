<!-- <div class="container-fluid"> -->
<div class="container">
  <div class="row justify-content-center rounded shadow p-1 mt-4 mx-2 mb-2">
    <div class="col-11 col-sm-10 col-md-10 col-lg-6 col-xl-5 text-center p-0 mt-1 mb-2 ">
      <div class="card px-0 pt-4 pb-0 mt-1 mb-3 ">
        <h2 id="heading">Registra tu Cuenta de Usuario</h2>
        <p>Sigue todos los pasos para crear tu cuenta</p>
        <form id="msform">
          <!-- progressbar -->
          <ul id="progressbar">
            <li class="active" id="account"><strong>Account</strong></li>
            <li id="personal"><strong>Personal</strong></li>
            <li id="payment"><strong>Image</strong></li>
            <li id="confirm"><strong>Finish</strong></li>
          </ul>
          <div class="progress">
            <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuemin="0"
              aria-valuemax="100"></div>
          </div> <br> <!-- fieldsets -->
          <fieldset>
            <div class="form-card">
              <div class="row">
                <div class="col-7">
                  <h2 class="fs-title">Account Information:</h2>
                </div>
                <div class="col-5">
                  <h2 class="steps">Step 1 - 4</h2>
                </div>
              </div>

              <!-- Desde aqui se procede a implementar la informacion de la creacion del usuario-->
              <!-- <h6>Ingreso de usuario</h6> -->
              <!-- Implementacion del layaut del contenedor -->
              <div class="grid p-fluid">

                <!-- Implementacion del campo de usuario con la correspondiente validacion  -->
                <div class="col-12 md:col-12">

                  <div class="p-inputgroup">
                    <span class="p-inputgroup-addon"><i class="pi pi-user"></i></span>
                    <input type="text" pattern="^\S+$" pInputText id="usuario" name="usuario" [(ngModel)]="user.usuario"
                      placeholder="Username" (input)="contatSpace($event)" required #usernameInput="ngModel">
                  </div>
                  <div *ngIf="usernameInput.invalid && usernameInput.touched || uservalida" class="text-danger">
                    El nombre de usuario es requerido
                  </div>
                  <style>
                    input.ng-invalid.ng-touched {
                      border-color: #f59090;
                    }
                  </style>
                </div>
                <!-- Fin de la Implementacion del campo de usuario con la correspondiente validacion  -->

                <!-- Implementacion del campo de contraseña con la correspondiente validacion  -->
                <div class="col-12 md:col-12">
                  <p-password id="contrasenia" name="contrasenia" [(ngModel)]="user.contrasenia" [toggleMask]="true"
                    placeholder="Password" (input)="contatSpace($event)" required #contraseniaInput="ngModel">
                    <ng-template pTemplate="header">
                      <h6>Pick a password</h6>
                    </ng-template>
                    <ng-template pTemplate="footer">
                      <p-divider></p-divider>
                      <p class="mt-2">Su contraseña debe cumplir los siguientes requisitos</p>
                      <ul class="pl-2 ml-2 mt-0" style="line-height: 1.5">
                        <li>Al menos una minúscula</li>
                        <li>Al menos una mayúscula</li>
                        <li>Al menos un número</li>
                        <li>Minimo 8 caracteres</li>
                      </ul>
                    </ng-template>
                  </p-password>
                  <div *ngIf="contraseniaInput.invalid && contraseniaInput.touched || passvalida" class="text-danger">
                    La contraseña para este usuario es requerido
                  </div>
                  <style>
                    input.ng-invalid.ng-touched {
                      border-color: #f59090;
                    }
                  </style>
                </div>
                <!-- Fin de Implementacion del campo de contraseña con la correspondiente validacion  -->

                <!--Implementacion del campo de repetir contraseña con la correspondiente validacion  -->
                <div class="col-12 md:col-12">

                  <div class="con">


                    <p-password id="contraseniarep" name="contraseniarep" [(ngModel)]="passwordR.passwordU"
                      [feedback]="false" placeholder="Repeat Password" (input)="contatSpace($event)"
                      (input)="validarMismaPassword($event)" required #contraseniarInput="ngModel">
                    </p-password>
                  </div>
                  <div *ngIf="passwordIgual" class="text-danger">
                    Las contraseñas no coinciden
                  </div>
                  <style>
                    input.ng-invalid.ng-touched {
                      border-color: #f59090;
                    }
                  </style>


                  <!-- <p-password [(ngModel)]="value3" [toggleMask]="true"></p-password> -->
                </div>
                <!--Fin de la Implementacion del campo de repetir contraseña con la correspondiente validacion  -->

              </div>
              <!-- Fin de la creacion del usuario -->
            </div>



            <button name="next" id="next" class="next action-button" style="background-color: red;"
              [disabled]="isButtonDisabled">Continuar</button>

            <button name="n/s" id="n/a" class="nex action-button" (click)="validaUserPass()">Validar</button>

            <!-- <div class="d" *ngIf=" enableViewBtnF == true">
              <button name="n/s"  id="n/a" class=" "  (click)="validaUserPass()">Next</button>

            </div>
            <div class="d" *ngIf="enableViewBtnT == true">
              <button name="next"  id="next" class="next action-button">Nexts</button>

            </div> -->

            <!-- <input type="button" name="next" [class]="isNextEnabled ? 'next action-button' : 'action-button'" value="Next" /> -->

            <!-- <input type="button" name="next" class="next action-button" value="Next" /> -->
          </fieldset>

          <fieldset> <!-- Segunda parte del formulario-->
            <div class="form-card">
              <div class="row">
                <div class="col-7">
                  <h2 class="fs-title">Personal Information:</h2>
                </div>
                <div class="col-5">
                  <h2 class="steps">Step 2 - 4</h2>
                </div>
              </div>

              <!-- Proceso de la creacion de la persona -->


              <div class="grid p-fluid">

                <!--Implementacion del campo cedula -->
                <div class="col-12 md:col-4">
                  <div class="p-inputgroup">
                    <span class="p-inputgroup-addon"><i class="pi pi-id-card"></i></span>
                    <input type="text" pInputText placeholder="Cédula" id="cedula" name="cedula"
                      [(ngModel)]="persona.cedula" (input)="contatSpace($event)" onkeypress='return event.charCode >= 48 && event.charCode <= 57'>
                  </div>
                </div>
                <!--Fin de la Implementacion del campo cedula -->

                <!--Implementacion del campo nombres -->
                <div class="col-12 md:col-4">
                  <div class="p-inputgroup">
                    <span class="p-inputgroup-addon"><i class="pi pi-user"></i></span>
                    <input type="text" pInputText placeholder="Nombres" id="nombres" name="nombres"
                      [(ngModel)]="persona.nombres" (input)="contatSpace($event)">
                  </div>
                </div>
                <!--Fin de la Implementacion del campo nombres -->

                <!--Implementacion del campo genero con el combobox -->
                <div class="col-12 md:col-4">
                  <div class="p-inputgroup">
                    <span class="p-inputgroup-addon"><i class="pi pi-users"></i></span>
                    <select pInputText placeholder="Sexo" id="genero" name="genero"
                      (change)="filtersImplements($event)">
                      <option value="">Seleccione su género</option>
                      <option value="Masculino">Masculino</option>
                      <option value="Femenino">Femenino</option>
                    </select>
                  </div>
                </div>
                <!--Fin de la Implementacion del campo genero con el combobox -->

              </div>


              <div class="grid p-fluid">

                <!--Implementacion del campo dirección-->
                <div class="col-12 md:col-7">
                  <div class="p-inputgroup">
                    <span class="p-inputgroup-addon"><i class="pi pi-directions"></i></span>
                    <input type="text" pInputText placeholder="Dirección" id="direccion" name="direccion"
                      [(ngModel)]="persona.direccion" (input)="contatSpace($event)">
                  </div>
                </div>
                <!--Fin de la Implementacion del campo dirección-->

                <!--Implementacion del campo telefono-->
                <div class="col-12 md:col-5">
                  <div class="p-inputgroup">
                    <span class="p-inputgroup-addon"><i class="pi pi-phone"></i></span>
                    <input type="text" pInputText placeholder="Telefono" id="telefono" name="telefono"
                      [(ngModel)]="persona.telefono" (input)="contatSpace($event)" onkeypress='return event.charCode >= 48 && event.charCode <= 57'>
                  </div>
                </div>
                <!--Fin de la Implementacion del campo telefono-->

              </div>


              <div class="grid p-fluid">

                <!--Implementacion del campo correo-->
                <div class="col-12 md:col-7">
                  <div class="p-inputgroup">
                    <span class="p-inputgroup-addon"><i class="pi pi-send"></i></span>
                    <input type="text" pInputText placeholder="Correo electronico" id="correo" name="correo"
                      [(ngModel)]="persona.correo" (input)="contatSpace($event)">
                  </div>
                </div>
                <!--Fin de la Implementacion del campo correo-->

                <!--Implementacion del campo celular-->
                <div class="col-12 md:col-3">
                  <div class="p-inputgroup">
                    <span class="p-inputgroup-addon"><i class="pi pi-whatsapp"></i></span>
                    <input type="text" pInputText placeholder="Celular" id="celular" name="celular"
                      [(ngModel)]="persona.celular" onkeypress='return event.charCode >= 48 && event.charCode <= 57'>
                  </div>
                </div>
                <!--Fin de la Implementacion del campo celular-->

                <!--Implementacion del campo edad con un spinner-->
                <div class="col-12 md:col-2">
                  <div class="p-inputgroup">
                    <span class="p-inputgroup-addon"><i class="pi pi-check-circle"></i></span>
                    <input step="any" type="number" [min]="0" [max]="100" pInputText placeholder="Edad" id="edad"
                      name="edad" [(ngModel)]="persona.edad"
                      onkeypress='return event.charCode >= 48 && event.charCode <= 57'>
                  </div>
                </div>
                <!--Fin de la Implementacion del campo edad-->

              </div>
              <!-- Fin Proceso de la creacion de la persona -->


            </div>
            <input type="button" name="next" id="next" class="next action-button" value="Siguiente" /> 
            <input type="button" name="next" id="next" class="nex action-button" value="Valida"  (click)="validarDatosPersona()"/> <input type="button"
              name="previous" class="previous action-button-previous" value="Previous" />
          </fieldset>
          <fieldset>
            <div class="form-card">
              <div class="row">
                <div class="col-7">
                  <h2 class="fs-title">Image Upload:</h2>
                </div>
                <div class="col-5">
                  <h2 class="steps">Step 3 - 4</h2>
                </div>
              </div>

              <!-- Inicio de la foto del usuario -->
              <div class="container text-center">
                <td>
                  <img [src]="'data:image/jpeg;base64,' + persona.foto" alt="" width="200px" height="200px"
                    class="rounded-circle mb-3">
                  <div class="text-center">
                    <input id="picture" type="file" (change)="loadPictureUser($event)" placeholder="Picture"
                      name=" picture" class="form-control form-control-sm">
                  </div>
                </td>
              </div>




              <!-- Fin de la foto del usuario -->


            </div> <input type="button" name="next" class="next action-button" value="Enviar" (click)="savePersona()" />
            <input type="button" name="previous" class="previous action-button-previous" value="Previous" />
          </fieldset>
          <fieldset>
            <div class="form-card">
              <div class="row">
                <div class="col-7">
                  <h2 class="fs-title">Finish:</h2>
                </div>
                <div class="col-5">
                  <h2 class="steps">Step 4 - 4</h2>
                </div>
              </div> <br><br>
              <h2 class="purple-text text-center"><strong>SUCCESS !</strong></h2> <br>
              <div class="row justify-content-center">
                <div class="col-3"> <img src="https://i.imgur.com/GwStPmg.png" class="fit-image"> </div>
              </div> <br><br>
              <div class="row justify-content-center">
                <div class="col-7 text-center">
                  <h5 class="purple-text text-center">You Have Successfully Signed Up</h5>
                </div>
              </div>
            </div>
          </fieldset>
        </form>
      </div>
    </div>
  </div>
</div>

<p-confirmDialog [style]="{width: '50vw'}" [baseZIndex]="10000"
  rejectButtonStyleClass="p-button-text"></p-confirmDialog>

<p-button (click)="confirm1()" icon="pi pi-check" label="Confirm" styleClass="mr-2"></p-button>

<p-toast></p-toast>